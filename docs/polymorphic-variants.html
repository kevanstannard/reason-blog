<!DOCTYPE HTML><html data-reactroot=""><head><title>ReasonML Polymorphic Variants</title></head><body><h1>ReasonML Polymorphic Variants</h1><p>Mon Jan 13 2020</p><div><p>Polymorphic variants are distinguished from ordinary variants by the leading backtick.</p>
<p>Unlike ordinary variants, polymorphic variants can be used without an explicit type declaration.</p>
<p>Example 1:</p>
<pre><code class="language-re">let three = `Int(3);
let four = `Float(4.);
let nan = `Not_a_number;
</code></pre>
<p>Notice that multiple polymorophic variant values may be present together in an array.</p>
<p>Example 2:</p>
<pre><code class="language-re">let is_positive =
  fun
  | `Int(x) =&gt; x &gt; 0
  | `Float(x) =&gt; x &gt; 0.;

List.filter(is_positive, [three, four]);
</code></pre>
<p>Example 3:</p>
<pre><code class="language-re">let is_positive_result =
  fun
  | `Int(x) =&gt; Ok(x &gt; 0)
  | `Float(x) =&gt; Ok(x &gt; 0.)
  | `Not_a_number =&gt; Error(&quot;not a number&quot;);

let result_to_bool =
  fun
  | Error(_) =&gt; false
  | Ok(b) =&gt; b;

List.filter(
  value =&gt; result_to_bool(is_positive_result(value)),
  [three, four, nan],
);
</code></pre>
<h2>References</h2>
<ul>
<li>Real World OCaml - Variants<br>
https://v1.realworldocaml.org/v1/en/html/variants.html</li>
</ul>
</div></body></html>