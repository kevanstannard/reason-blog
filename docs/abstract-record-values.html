<!DOCTYPE HTML>
<html>
  <head>
    <title>How to access values in a ReasonML Abstract Record?</title>
    <link rel="stylesheet" href="https://unpkg.com/picnic">
    <style>
      .container {
        padding: 1em 2em 4em 2em;
      }
      header h1 a {
        padding: 8px;
        color: #ffffff;
        background-color: #db4d3f;
      }
      .title {
        padding-bottom: 0;
      }
      .date {
        margin-top: 0;
        color: #888888;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>
          <a href="index.html">ReasonML Notes</a>
        </h1>
      </header>
      <article>
        <h1 class="title">How to access values in a ReasonML Abstract Record?</h1>
        <p class="date">2019-12-16</p>
        <p>An abstract record type is declared as follows:</p>
<pre><code class="language-reasonml">[@bs.deriving abstract]
type person = {
  name: string,
  age: int,
};
</code></pre>
<p>This looks like a ReasonML record, but it's not a record.</p>
<p>This declaration causes the creation of three functions:</p>
<ul>
<li><code>person()</code> the creation function.</li>
<li><code>nameGet()</code> to access the name of a person</li>
<li><code>ageGet()</code> to access the age of a person</li>
</ul>
<p>For example:</p>
<pre><code class="language-reasonml">let joe: person = person(~name=&quot;Joe&quot;, ~age=20);

let joeName: string = nameGet(joe);
</code></pre>
<p>As noted above this is not a record, consider the difference between a normal record and an abstract record:</p>
<pre><code class="language-reasonml">[@bs.deriving abstract]
type abstractPerson = {
  name: string,
  age: int,
};

type person = {
  name: string,
  age: int,
};

let abstractJoe = abstractPerson(~name=&quot;Joe&quot;, ~age=20);
let joe = {name: &quot;Joe&quot;, age: 20};

Js.log(abstractJoe);
// {name: &quot;Joe&quot;, age: 20}

Js.log(joe);
// [&quot;Joe&quot;, 20]
</code></pre>
<p>This makes the <code>abstract</code> annotation useful for inter-op with JavaScript.</p>
<p>Suppose you have a object named <code>joe</code> in JavaScript with the fields <code>name</code> and <code>age</code>, we can access this object in ReasonML using:</p>
<pre><code class="language-reasonml">[@bs.val] external john : person = &quot;john&quot;;
</code></pre>

      </article>
    </div>
  </body>
</html>