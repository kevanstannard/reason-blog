<!doctype html><html data-reactroot=""><head><title>Comparing ReasonML object and record data structures</title><meta charSet="utf-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet"/><link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/styles/default.min.css" rel="stylesheet"/><link href="static/styles.css" rel="stylesheet"/></head><body><div class="p-10"><p class="mb-4"><a class="hover:underline" href="index.html">‚Üê Back to index</a></p><h1 class="text-5xl font-black mb-4">Comparing ReasonML object and record data structures</h1><p class="mb-12">Fri Dec 20 2019</p><div class="blogPostBody"><h2>Record</h2>
<pre><code class="language-reasonml"><span class="hljs-keyword">type</span> personRec = {
  name: <span class="hljs-built_in">string</span>,
  age: <span class="hljs-built_in">int</span>,
};

<span class="hljs-keyword">let</span> pRec: personRec = {name: <span class="hljs-string">&quot;Hello&quot;</span>, age: <span class="hljs-number">21</span>};

<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pRec);
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pRec.name);
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pRec.age);

<span class="hljs-comment">// [ &#x27;Hello&#x27;, 21 ]</span>
<span class="hljs-comment">// Hello</span>
<span class="hljs-comment">// 21</span>
</code></pre>
<h2>Abstract Record</h2>
<p>An abstract record is useful when you want to work with a native JavaScript object.</p>
<pre><code class="language-reasonml"><span class="hljs-literal">[@<span class="hljs-identifier">bs</span>.<span class="hljs-identifier">deriving</span> <span class="hljs-identifier">abstract</span>]</span>
<span class="hljs-keyword">type</span> personAbs = {
  name: <span class="hljs-built_in">string</span>,
  age: <span class="hljs-built_in">int</span>,
};

<span class="hljs-keyword">let</span> pAbs: personAbs = person<span class="hljs-constructor">Abs(~<span class="hljs-params">name</span>=<span class="hljs-string">&quot;Hello&quot;</span>, ~<span class="hljs-params">age</span>=21)</span>;

<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pAbs);
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pAbs-&gt;nameGet);
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pAbs-&gt;ageGet);

<span class="hljs-comment">// { name: &#x27;Hello&#x27;, age: 21 }</span>
<span class="hljs-comment">// Hello</span>
<span class="hljs-comment">// 21</span>
</code></pre>
<h2>Reason Object</h2>
<pre><code class="language-reasonml"><span class="hljs-keyword">type</span> personObj = {
  .
  name: <span class="hljs-built_in">string</span>,
  age: <span class="hljs-built_in">int</span>,
};

<span class="hljs-keyword">let</span> pObj: personObj = {
  <span class="hljs-keyword">as</span> _; <span class="hljs-comment">/* Suppress &quot;unused variable this&quot; warning */</span>
  pub name = <span class="hljs-string">&quot;Hello&quot;</span>;
  pub age = <span class="hljs-number">21</span>
};

<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pObj);
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pObj#name);
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pObj#age);

<span class="hljs-comment">// [[2,7,[Function],-922783157,[Function],4846783],3,tag:248]</span>
<span class="hljs-comment">// Hello</span>
<span class="hljs-comment">// 21</span>
</code></pre>
<h2>JavaScript Object</h2>
<pre><code class="language-reasonml"><span class="hljs-keyword">type</span> personJsObj = {
  .
  <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-built_in">string</span>,
  <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-built_in">int</span>,
};

<span class="hljs-keyword">let</span> pJsObj: personJsObj = {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Hello&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">21</span>};

<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pJsObj);
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pJsObj##name);
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pJsObj##age);

<span class="hljs-comment">// { name: &#x27;Hello&#x27;, age: 21 }</span>
<span class="hljs-comment">// Hello</span>
<span class="hljs-comment">// 21</span>
</code></pre>
<h2>Dictionary</h2>
<pre><code class="language-reasonml"><span class="hljs-keyword">let</span> pDict: <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span><span class="hljs-module"><span class="hljs-identifier">Dict</span>.</span></span>t(<span class="hljs-built_in">string</span>) = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span><span class="hljs-module"><span class="hljs-identifier">Dict</span>.</span></span>empty<span class="hljs-literal">()</span>;

<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span><span class="hljs-module"><span class="hljs-identifier">Dict</span>.</span></span>set(pDict, <span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;Hello&quot;</span>);
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span><span class="hljs-module"><span class="hljs-identifier">Dict</span>.</span></span>set(pDict, <span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-string">&quot;21&quot;</span>);

<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(pDict);
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span><span class="hljs-module"><span class="hljs-identifier">Dict</span>.</span></span>get(pDict, <span class="hljs-string">&quot;name&quot;</span>));
<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span></span>log(<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Js</span>.</span><span class="hljs-module"><span class="hljs-identifier">Dict</span>.</span></span>get(pDict, <span class="hljs-string">&quot;age&quot;</span>));

<span class="hljs-comment">// { name: &#x27;Hello&#x27;, age: &#x27;21&#x27; }</span>
<span class="hljs-comment">// Hello</span>
<span class="hljs-comment">// 21</span>
</code></pre>
</div></div></body></html>